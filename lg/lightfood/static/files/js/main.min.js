!function o(i,a,s){function l(t,e){if(!a[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(r)return r(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=a[t]={exports:{}},i[t][0].call(n.exports,function(e){return l(i[t][1][e]||e)},n,n.exports,o,i,a,s)}return a[t].exports}for(var r="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("./utils")),o=i(e("./component/foodIframe"));function i(e){return e&&e.__esModule?e:{default:e}}var s,l=navigator.userAgent,r=l.toLowerCase(),c=$(window),d=$("html"),u={};u.browser={platform:{windows:-1<l.indexOf("Windows"),macos:-1<l.indexOf("Mac OS X"),linux:-1<l.indexOf("Linux"),android:-1<l.indexOf("Android")||-1<l.indexOf("Adr"),ios:!!l.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),mobile:!!l.match(/AppleWebKit.*Mobile.*/)},versions:{trident:-1<l.indexOf("Trident"),presto:-1<l.indexOf("Presto"),webKit:-1<l.indexOf("AppleWebKit"),gecko:-1<l.indexOf("Gecko")&&-1==l.indexOf("KHTML"),edge:-1<l.indexOf("Edge"),ie11:-1<l.indexOf("rv:11"),ie10:-1<l.indexOf("MSIE 10"),iPhone:-1<l.indexOf("iPhone"),iPad:(s=-1!=l.indexOf("Safari")&&-1!=l.indexOf("Version"),e=-1!=l.indexOf("iPhone")&&-1!=l.indexOf("Version"),s&&!e&&"ontouchend"in document),weixin:-1<l.indexOf("MicroMessenger"),qq:"qq"==l.match(/\sQQ/i)},isTouch:"ontouchstart"in window||-1!==r.indexOf("touch")||-1!==r.indexOf("mobile"),version:(/(chrome)[ \/]([\w.]+)/.exec(r)||/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[])[2]||"0",language:(navigator.browserLanguage||navigator.language).toLowerCase()},c.resize(a.default.throttle(function(){var e=u.browser.platform,t=u.browser.versions;u.screen={vw:window.innerWidth,vh:window.innerHeight},u.device={mobile:u.screen.vw<768,pad_v:768<=u.screen.vw&&u.screen.vw<1024,pad_h:768<u.screen.vw&&u.screen.vw<=1366&&(e.android||t.iPad),desktop:1024<=u.screen.vw&&!e.android&&!t.iPad}},500)).resize(),u.loadFile=function(e){var t,n={type:"js",url:"",loadCallback:function(){console.log("加载完毕回调")}};"js"==(n=$.extend(n,e)).type?(t=document.createElement("script")).src=n.url:"css"==n.type?((t=document.createElement("link")).rel="stylesheet",t.href=n.url):"style"==n.type&&((t=document.createElement("style")).rel="stylesheet",t.innerHTML=n.style),document.getElementsByTagName("head")[0].appendChild(t),t.onload=function(){n.loadCallback()}},u.addBrowserTag={versions:function(){var e,t;for(t in e=u.browser.versions)e[t]&&d.addClass("versions_"+t)},platform:function(){var e,t;for(t in e=u.browser.platform)e[t]&&d.addClass("platform_"+t)},isTouch:function(){u.browser.isTouch?d.addClass("is-touch"):d.addClass("no-touch")},language:function(){d.addClass(u.browser.language)},cssSupport:function(){var e,t={position:"sticky"};for(e in t)a.default.cssSupport(e,t[e],!0)}},u.response=function(){var e=u.response.callback,t=function(){d.hasClass("is_desktop")||(d.addClass("is_desktop"),e.desktop&&e.desktop())},n=function(){d.hasClass("is_pad_h")||(d.addClass("is_pad_h"),e.padH&&e.padH())},o=function(){d.hasClass("is_pad_v")||(d.addClass("is_pad_v"),e.padV&&e.padV())},i=function(){d.hasClass("is_mobile")||(d.addClass("is_mobile"),e.mobile&&e.mobile())};e.all&&e.all(),c.resize(a.default.throttle(function(){u.device.mobile?i():d.removeClass("is_mobile"),u.device.pad_v?o():d.removeClass("is_pad_v"),u.device.pad_h?n():d.removeClass("is_pad_h"),u.device.desktop?t():d.removeClass("is_desktop")},500)).resize()},u.pageInit=function(){u.response(),u.addBrowserTag.platform(),u.addBrowserTag.versions(),u.addBrowserTag.isTouch(),u.addBrowserTag.cssSupport(),u.addBrowserTag.language()},u.dom={$foodIframeBox:o.default},n.default=u},{"./component/foodIframe":2,"./utils":12}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=$(".food-iframe-box"),i=$("html"),a=0<o.length;o.show=function(e){a&&(e=$.Event("onShow",{relatedTarget:e}),o.trigger(e),o.addClass("show"),i.addClass("lock"))},o.hide=function(e){a&&(e=$.Event("onHide",{relatedTarget:e}),o.trigger(e),o.removeClass("show"),i.removeClass("lock"))},a&&o.find("button").on("click",o.hide),n.default=o},{}],3:[function(e,t,n){"use strict";$.fn.hoverGif=function(){app.device.desktop&&this.each(function(e,t){var n,o,i,t=$(t);t.data("hoverGif")||(t.data("hoverGif",!0),n=t.find("img[data-src]"),o=n.attr("src"),i=n.data("src"),t.hover(function(){n.attr("src",i)},function(){n.attr("src",o)}))})}},{}],4:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=$("body");n.default=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{zIndex:6100};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=a.find(".popup-backdrop");if(0<t.length)return t[0].popupBackdrop;this._zIndex=e.zIndex,this.init()}var e,t,o;return e=n,(t=[{key:"init",value:function(){var e=$('<div class="popup-backdrop" style="z-index: '.concat(this.zIndex,'"></div>'));this.$el=e,a.append(e),e[0].popupBackdrop=this}},{key:"zIndex",get:function(){return this._zIndex},set:function(e){e*=1,isNaN(e)||(this._zIndex=e,this.$el.css({"z-index":e}))}},{key:"show",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el,t=$.Event("popupBackdrop.show");e.trigger(t),e.show().addClass("fadeIn"),this.lockBody()}},{key:"hide",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el,n=$.Event("popupBackdrop.hide");$(this).trigger(n),t.addClass("fadeOut"),setTimeout(function(){t.removeClass("fadeIn fadeOut"),t.hide(),e.lockBody(!1)},300)}},{key:"lockBody",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?a.addClass("modal-open"):a.removeClass("modal-open")}}])&&i(e.prototype,t),o&&i(e,o),n}()},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(e("../app")),a=o(e("./video"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=$("body");n.default=function(){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=l.find(".popup-media");if(0<t.length)return t[0].popupMedia.show(e);this.init(e)}var e,t,o;return e=n,(t=[{key:"init",value:function(e){var t=this,n=$('<div class="media-box full popup-media '.concat(i.default.browser.platform.ios&&"is_ios",'" style="display: none">\n      <div class="inner">\n        <button class="close" data-dismiss="close"><i class="iconfont" data-dismiss="close">&#xe627;</i></button>\n        <div class="mc-video">\n          <video src="').concat(e,'" controls></video>\n        </div>\n      </div>\n    </div>'));(this.$el=n).on("click",function(e){e.target.hasAttribute("data-dismiss")&&t.hide()}),l.append(n),(n[0].popupMedia=this).mcVideo=new a.default(n.find("video")[0]),this.video=this.mcVideo.video,this.video.addEventListener("fullscreenchange",function(e){document.fullscreenElement||t.video.pause()}),this.show(e)}},{key:"show",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this,n=t.$el;t.video;i.default.device.desktop&&(n.fadeIn(),this.lockBody()),this.palyVideo(e)}},{key:"hide",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this,n=t.$el;t.video.pause(),n.fadeOut(),setTimeout(function(){e.lockBody(!1)},300)}},{key:"palyVideo",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this).video;e&&this.changeVideoSrc(e),t.play(),i.default.device.desktop||setTimeout(function(){var e;(e=t).requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen&&e.webkitRequestFullScreen()},200)}},{key:"changeVideoSrc",value:function(e){var t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:this).video;t.currentSrc!=e&&(t.src=e)}},{key:"lockBody",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?l.addClass("modal-open"):l.removeClass("modal-open")}}])&&s(e.prototype,t),o&&s(e,o),n}()},{"../app":1,"./video":9}],6:[function(e,t,n){"use strict";$.fn.position_callback=function(l){var r=this.selector;$(this).each(function(){var e,t,n,o,i,a,s=$(this);s.length?(e=s[0],t={offsetTop:0,offsetBottom:0,topUp:function(){},topDown:function(){},bottomUp:function(){},bottomDown:function(){}},t=$.extend(t,l),o="scroll_position_callback_"+(r+(n="")).replace(/[^a-zA-Z\d]/g,"_"),s.data(o)||(i=(i=$("body").data("position_callback_uuid_count"))||0,$("body").data("position_callback_uuid_count",++i),s.data(o,o+"_"+i)),n=s.data(o),$(window).off("scroll."+n).on("scroll."+n,function(){e.getBoundingClientRect().top<t.offsetTop?a&&"topDown"!=a||(a="topUp",t.topUp.call(s)):"topUp"!=a&&"bottomDown"!=a||(a="topDown",t.topDown.call(s)),e.getBoundingClientRect().bottom<t.offsetBottom?"topUp"!=a&&"bottomDown"!=a||(a="bottomUp",t.bottomUp.call(s)):"bottomUp"==a&&(a="bottomDown",t.bottomDown.call(s))})):console.log("元素 "+r+" 未找到")})}},{}],7:[function(e,t,n){"use strict";var o=i(e("./popupBackdrop")),a=i(e("./popupMedia"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var c=$("body"),d=new o.default,u=function(){function t(e){s(this,t),this.el=e,this.$el=$(e),this.uuid=(16777216*(1+Math.random())|0).toString(16).substring(1),this.pos=this.getPosition(),this.init()}return r(t,[{key:"init",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el;t.addClass("point--".concat(this.uuid)),t.on("click",function(){return e.showPopup()}),console.log(t.find(".hot-point-popup .btn")),t.find(".hot-point-popup .btn").on("click",p.popupDetail),this.insetArrow()}},{key:"insetArrow",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el,t=e.data("arrow"),t=$('<i class="arrow--'.concat(t,'"></i>'));e.prepend(t)}},{key:"getPosition",value:function(){if(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el.data("positions")){var e=this.$el.data("positions").split("|").map(function(e){return e.split(":").map(function(e){return e.split(",")})});return{sm:{x:e[0][1][0],y:e[0][1][1]},lg:{x:e[1][1][0],y:e[1][1][1]}}}}},{key:"inlineStyle",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.pos;if(e){var t=this.$el.data("arrow");return"\n        .point--".concat(this.uuid," {\n          ").concat(t,": ").concat(e.sm.x,"%;\n          top: ").concat(e.sm.y,"%;\n        }\n        @media (min-width: 992px) {\n          .point--").concat(this.uuid," {\n            ").concat(t,": ").concat(e.lg.x,"%;\n            top: ").concat(e.lg.y,"%;\n          }\n        }\n      ")}return""}},{key:"showPopup",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el).find(".hot-point-popup");1420<=app.screen.vw||0==e.length||(d.show(),new p({content:e}).show())}}]),t}(),p=function(){function o(e){s(this,o),e=Object.assign({zIndex:6110,closeBtn:!0},e);var t=c.find(".point-popup");if(0<t.length)return t[0].pointPopup.fillContent(e.content),t[0].pointPopup;this.zIndex=e.zIndex,this.init(e)}return r(o,[{key:"init",value:function(e){var n=this,t=$('<div class="point-popup" data-dismiss="close" style="z-index: '.concat(this.zIndex,'">\n        <div class="point-popup-content" data-dismiss="close">\n          <button class="point-popup-close iconfont icon-map-close" type="button" data-dismiss="close"></button>\n          <div class="point-popup-content-template"></div>\n        </div>\n      </div>'));this.$el=t,this.$content=t.find(".point-popup-content"),this.$el.on("click",function(e){var t=e.target;t.hasAttribute("data-dismiss")&&n.hide(),t.hasAttribute("href")&&o.popupDetail(e)}),c.append(t),(t[0].pointPopup=this).fillContent(e.content)}},{key:"fillContent",value:function(e){this.$content.find(".point-popup-content-template").html($(e)[0].outerHTML)}},{key:"show",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el;d.show(),e.show().addClass("scaleUp")}},{key:"hide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.$el;d.hide(),e.addClass("scaleDown"),setTimeout(function(){e.removeClass("scaleUp scaleDown"),e.hide()},300)}}],[{key:"popupDetail",value:function(e){var t,n,o,i=e.target;null!==(t=i.dataset)&&void 0!==t&&null!==(n=t.linkType)&&void 0!==n&&n.includes("video")&&(e.preventDefault(),o=i.href,new a.default(o)),app.screen.vw<991||(o=app.dom.$foodIframeBox,"_blank"!=i.target&&(e.preventDefault(),console.log(e.target),o.show(e.target)))}}]),o}();$.fn.productHotSpots=function(e){var n;this.hasClass("ready")||(e=(e=e.points)?this.find(e):this.children(),n="",e.each(function(e,t){t=new u(t);n+=t.inlineStyle()}),app.loadFile({type:"style",style:n}),this.addClass("ready"))}},{"./popupBackdrop":4,"./popupMedia":5}],8:[function(e,t,n){"use strict";$.fn.tableCalculator=function(){this.each(function(){var e,t,n=$(this);!n.data("tableCalculator")&&n.length&&(n.data("tableCalculator",!0),n.wrap('<div class="table-responsive">'),e=n.parent(),t=n.find("caption").hide(),n=n.find("thead th"),e.before('<span class="table-calculator--caption">'.concat(t.text(),"</span>")),n.each(function(){this.innerHTML='<span class="vertical">'.concat(this.innerHTML,"</span>")}))})}},{}],9:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={controls:!1,loop:!1},s="video--playing";n.default=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.propertys=Object.assign(a,t),this.video=e,this.parentElement=e.parentElement,this.init()}var e,t,o;return e=n,(t=[{key:"init",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this,n=t.video,o=t.parentElement;this.setPropertys(),o.addEventListener("click",function(){e.toggle()}),n.addEventListener("contextmenu",function(e){return e.preventDefault()}),n.onplay=function(){o.classList.add(s)},n.onpause=function(){o.classList.remove(s)},n.onended=function(){n.load()}}},{key:"setPropertys",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this,n=t.video,o=t.propertys;for(e in o)n[e]=o[e]}},{key:"toggle",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this).video;e.paused?e.play():e.pause()}}])&&i(e.prototype,t),o&&i(e,o),n}()},{}],10:[function(e,t,n){"use strict";var o,i=(o=e("./app"))&&o.__esModule?o:{default:o};e("./component/positionCallback"),e("./component/hoverGif"),e("./component/tableCalculator"),e("./pages/productDetail"),window.app=i.default,i.default.response.callback={desktop:function(){},padH:function(){},padV:function(){},mobile:function(){},all:function(){}},i.default.pageInit(),$(".follows .bdsharebuttonbox button").click(function(){$(this).addClass("active")}),$(document).mouseup(function(e){var t=$(".popup-content");t.is(e.target)||0!==t.has(e.target).length||($(".popup-box").removeClass("pop-show"),$("html").removeClass("lock"))}),$(".popup-box .close-btn").click(function(){$(".popup-box").removeClass("pop-show"),$("html").removeClass("lock")})},{"./app":1,"./component/hoverGif":3,"./component/positionCallback":6,"./component/tableCalculator":8,"./pages/productDetail":11}],11:[function(e,t,n){"use strict";var o=a(e("../app"));e("../component/productHotSpots");var i=a(e("../component/video"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){e.find(".hot-point-group").position_callback({offsetTop:.6*o.default.screen.vh,topUp:function(){this.productHotSpots({points:".hot-point"})}})}function l(e){new i.default(e.find("video")[0])}$(".inlude-component").each(function(){var e=$(this),t=e[0].firstElementChild.className;t&&{"product-hot-spots":s,video:l}[t](e)})},{"../app":1,"../component/productHotSpots":7,"../component/video":9}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default={loadFile:function(e){var t,n={type:"js",url:"",loadCallback:function(){console.log("加载完毕回调")}};"js"==(n=$.extend(n,e)).type?document.createElement("script").src=n.url:"css"==n.type?((t=document.createElement("link")).rel="stylesheet",t.href=n.url):"style"==n.type&&((t=document.createElement("style")).rel="stylesheet",t.innerHTML=n.style),document.getElementsByTagName("head")[0].appendChild(file),file.onload=function(){n.loadCallback()}},throttle:function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250,s=0;return function(){var e=Date.now();if(a<=e-s){s=e;for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];i.apply(this,n)}}},debounce:function(i){var a,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:250;return function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];clearTimeout(a),a=setTimeout(function(){i.apply(e,n)},s)}},cssSupport:function(e,t,n){function o(){return console.warn("css不支持"+e+":"+t),n&&document.querySelector("html").classList.add("no-"+t),0}var i=document.createElement("div");if(e in i.style){if(i.style[e]=t,i.style[e]==t)return!0;o()}else o()},wechatVideoPlay:function(t){window.WeixinJSBridge?WeixinJSBridge.invoke("getNetworkType",{},function(e){t.play()},!1):document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.invoke("getNetworkType",{},function(e){t.play()})},!1)}}},{}]},{},[10]);
//# sourceMappingURL=main.min.js.map
